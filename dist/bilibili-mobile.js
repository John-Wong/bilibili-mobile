/*! For license information please see bilibili-mobile.js.LICENSE.txt */
(()=>{"use strict";const n=(()=>"undefined"!=typeof unsafeWindow?unsafeWindow:window)();function t(){const t=n.fetch;n.fetch=function(n,e){return"string"==typeof n&&n.includes("api.bilibili.com")&&n.includes("feed/rcmd")&&"GET"===e.method.toUpperCase()&&(n=n.replace("&ps=12&","&ps=30&")),t(n,e)}}function e(n){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()}function i(n){document.head?document.head.appendChild(n):e(document.head.appendChild(n))}function a(){const n=[1,1,1,1],t={css1:"\n      .bpx-player-sending-area.bpx-player-sending-area {display: none !important;}\n      .left-container.left-container {padding: calc(var(--video-height) + 5px ) 10px 0;}\n    ",css2:".main-reply-box.main-reply-box {display: none !important;}",css3:"#v_tag {display: none !important;}",css4:"\n      .copyright.item {display: none !important;}\n      .show-more {display: none;}"};function a(a){a=a||!1;const o=JSON.parse(localStorage.getItem("settingShowHidden"))||n,r=Object.values(t);if(a)for(const[n,r]of a.entries())r&&(o[n]?i(Object.assign(document.createElement("style"),{id:`script-pre-style-${n+1}`,textContent:t[`css${n+1}`]})):document.head?document.getElementById(`script-pre-style-${n+1}`).remove():e(document.getElementById(`script-pre-style-${n+1}`)));else for(const[n,t]of r.entries())o[n]&&i(Object.assign(document.createElement("style"),{id:`script-pre-style-${n+1}`,textContent:t}))}a(),e((()=>{!function(){const t=Object.assign(document.createElement("div"),{id:"setting-panel-style",className:"setting-panel",innerHTML:'\n        <div class="setting-title">选择隐藏元素：</div>\n        <div class="setting-checkboxes">\n          <label><input type="checkbox" value="1"><span>弹幕行</span></label>\n          <label><input type="checkbox" value="2"><span>评论行</span></label>\n          <label><input type="checkbox" value="3"><span>标签块</span></label>\n          <label><input type="checkbox" value="4"><span>转载声明</span></label>\n        </div>\n        '}),e=Object.assign(document.createElement("button"),{class:"setting-conform",textContent:"确认"}),i=t.querySelectorAll('.setting-checkboxes input[type="checkbox"]'),o=JSON.parse(localStorage.getItem("settingShowHidden"))||n;for(const[n,t]of o.entries())i[n].checked=t;e.addEventListener("click",(()=>{const n=Array.from(i).map((n=>n.checked?1:0));localStorage.setItem("settingShowHidden",JSON.stringify(n)),a(n.map(((n,t)=>n===o[t]?0:1))),t.classList.remove("show")})),t.appendChild(e),document.body.appendChild(t)}(),GM_registerMenuCommand("元素隐藏设置",(()=>{document.getElementById("setting-panel-style").classList.add("show")}))}))}function o(){const n={key1:"full-unmuted"};e((()=>{!function(){const t=Object.assign(document.createElement("div"),{id:"setting-panel-preference",className:"setting-panel",innerHTML:'\n        <div class="setting-title">选择操作偏好：</div>\n        <div class="setting-checkboxes">\n          <label><input type="checkbox" value="1"><span>使用底部全屏按钮播放和打开声音</span></label>\n        </div>\n        '}),e=Object.assign(document.createElement("button"),{class:"setting-conform",textContent:"确认"}),i=Object.values(n),a=t.querySelectorAll('.setting-checkboxes input[type="checkbox"]');for(const[n,t]of i.entries())a[n].checked="1"===(localStorage.getItem(t)||"0");e.addEventListener("click",(()=>{for(const[n,t]of i.entries())localStorage.setItem(t,a[n].checked?"1":"0");t.classList.remove("show")})),t.appendChild(e),document.body.appendChild(t)}(),GM_registerMenuCommand("操作偏好设置",(()=>{document.getElementById("setting-panel-preference").classList.add("show")}))}))}!function(){console.log("Bilibili mobile execute!");const n=(()=>"undefined"!=typeof unsafeWindow?unsafeWindow:window)();function e(n){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()}function i(n){document.head?document.head.appendChild(n):e(document.head.appendChild(n))}function r(){i(Object.assign(document.createElement("style"),{id:"hidden-header",textContent:"\n          .bili-header__bar, #overlay {transform: translateY(-100%);}\n          #playerWrap {transform: translateY(calc(var(--header-height) * -1));}\n          /* 父布局不要用 transform */\n          .video-container-v1.video-container-v1 {top: 0 !important;}\n          .right-container.right-container {height: 100%;}\n          .center-search-container {margin-top: var(--header-height) !important;}\n          /* 隐藏时操作栏蒙版 */\n          #actionbar:after {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background-color: rgb(0, 0, 0);\n            opacity: 0;\n            transition: opacity 0.6s ease-in;\n            pointer-events: none;\n          }\n          \n          body[show-sidebar=\"true\"] #actionbar:after {\n            opacity: 0.5;\n            pointer-events: auto;\n          }\n        "}))}!function(){if(document.head){const n=document.createElement("meta");n.setAttribute("name","viewport"),n.setAttribute("content","width=device-width, initial-scale=1.0"),document.head.appendChild(n)}}(),function(){const n=document.createElement("style");n.textContent='\n/* ---------------------------------------------------- *\n* ----------------------- 操作栏 ----------------------- *\n* ---------------------------------------------------- */\n\n/* 操作栏 */\n#actionbar {\n  position: fixed;\n  bottom: 0;\n  width: 100vw;\n  height: var(--header-height);\n  z-index: 1;\n  display: flex;\n  justify-content: space-evenly;\n  align-items: center;\n  background: inherit;\n  transition: .5s transform ease-in;\n}\n\n[scroll-hidden=true] #actionbar,\n[scroll-hidden=true] .flexible-roll-btn-inner,\n[scroll-hidden=true] .top-btn {\n  transform: translateY(var(--header-height));\n}\n\n\n#actionbar > * {\n  opacity: 0;\n  animation: fadeIn 1s ease-in forwards;\n}\n\n#full-now,\n#my-home,\n#search-fab,\n#menu-fab,\n#sidebar-btn {\n  padding: 8px;\n}\n\n#actionbar.home #full-now,\n#actionbar.home #sidebar-btn {\n  visibility: hidden;\n  pointer-events: none;\n}\n/* --------------------- 其它适配 --------------------- */\n\n/* 扩增载入后产生的骨架空位 */\n.floor-single-card:has(.skeleton, .skeleton-item) {\n  display: none;\n}\n\n/* 脚本设置窗口 */\n.setting-panel {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  background: inherit;\n  z-index: 1;\n  border: 1px solid var(--line_regular);\n  display: none;\n  flex-direction: column;\n  padding: 5px;\n  border-radius: 5px;\n}\n\n.setting-panel.show {\n  display: flex;\n}\n\n.setting-title {\n  padding-bottom: 5px;\n  margin: 0 5px;\n  border-bottom: 1px solid var(--line_regular);\n}\n.setting-checkboxes {\n  display: flex;\n  flex-direction: column;\n}\n\n.setting-checkboxes label {\n  margin: 5px;\n  display: flex;\n}\n\n.setting-checkboxes span {\n  flex-grow: 1;\n  text-align: center;\n  user-select: none;\n}\n\n.setting-conform {\n  margin: 0 20px;\n  border-radius: 5px;\n}\n\n/* ----------------------------------------------------\n* ---------------------------------------------------- *\n* ----------------------- 首页 ----------------------- *\n* ---------------------------------------------------- *\n ----------------------------------------------------- */\n\n body {\n  /* 避免评论未加载时显示灰色 */\n  background: white !important;\n\n  /* 添加透明 animation 为 Via 预留加载 initViewport 的时间后，刷新加载出现白屏 */\n\n  --header-height: 46px;\n}\n\n/* 顶栏点击遮罩层 */\n#overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--header-height);\n  background-color: transparent;\n  z-index: 1002;\n}\n\n/* 双列视频 */\n.recommended-container_floor-aside .container {\n  grid-template-columns: repeat(2, 1fr) !important;\n  padding: 5px;\n  grid-gap: 5px !important;\n  background: #f1f2f3;\n}\n\n/* 头图底色 */\n.bili-header__banner {\n  background-color: #f1f2f3 !important;\n}\n\n/* 显示根据屏宽隐藏的 feed */\n.container>.feed-card {\n  display: block !important;\n}\n\n/* 最小宽度（body、顶栏） */\nbody,\n.bili-header,\n.bili-header__banner {\n  min-width: 0 !important;\n}\n\n/* 主页视频流 */\n.bili-feed4-layout {\n  width: 100% !important;\n}\n\n/* -------------------------------------------------- \n ------------------------ 顶栏 ----------------------- \n -------------------------------------------------- */\n\n/* #i_cecream 属首页，#app #biliMainHeader 属视频页 */\n\n/* 避免初始内联高度影响计算 */\n#biliMainHeader {\n  position: fixed;\n  z-index: 2;\n}\n\n/* 顶栏边距（右边距减去头像右空隙） */\n.bili-header__bar {\n  padding: 0 10px 0 15px !important;\n  transition: transform 0.5s ease-in;\n}\n\n/* 顶栏高度 */\n.bili-header .bili-header__bar {\n  height: var(--header-height) !important;\n}\n\n/* 视频页顶栏高度 */\n.header-v3 #biliMainHeader .bili-header .bili-header__bar {\n  height: var(--header-height) !important;\n}\n\n/* 顶部按钮高度 */\n.entry-title,\n.right-entry,\n.mini-header__logo {\n  max-height: var(--header-height);\n}\n\n.left-entry__title {\n  height: var(--header-height) !important;\n}\n\n/* 头像高度 */\n.v-popover-wrap.header-avatar-wrap {\n  height: var(--header-height) !important;\n}\n\n/* 收藏按钮高度 */\n.header-favorite-container-box,\n.header-favorite-container  {\n  max-height: var(--header-height) !important;\n}\n\n/* 顶栏高度：HTML 初始加载时，biliMainHeader 已有内联高度，\n   保留顶栏外框（biliMainHeader）高度，修改其它元素 */\n\n/* 不影响结果 */\n#biliMainHeader .bili-header {\n  min-height: var(--header-height);\n  height: var(--header-height);\n}\n\n/* 搜索框 */\n.center-search-container {\n  position: absolute !important;\n  width: 100%;\n  left: 0;\n  top: 0;\n  padding: 10px 20px 5px !important;\n  z-index: 3;\n  margin: 0 !important;\n  display: none;\n}\n\n.center-search-container.show {\n  display: block;\n}\n\n/* 顶栏右侧图标 */\n.right-entry {\n  flex: 1;\n  min-width: 0;\n  margin: 0 !important;\n  justify-content: space-evenly;\n}\n \n.right-entry > * {\n  animation: fadeIn 1s ease-in;\n}\n\n.left-entry {\n  min-width: 0;\n  margin: 0 !important;\n}\n\n/* 头像图表边距 */\n.header-avatar-wrap {\n  padding-right: 0 !important;\n}\n\n/* 禁止换行 */\n.left-entry__title,\n.dm.item {\n  white-space: nowrap;\n}\n\n/* 头像置右 */\n.v-popover-wrap.header-avatar-wrap {\n  order: 5;\n  margin-left: auto;\n}\n\n/* 剩余元素均分 */\n.v-popover-wrap:not(.header-avatar-wrap) {\n  flex: 1;\n}\n\n/* 肉眼个别微调 */\n.right-entry--message {\n  padding-left: 3px;\n}\n\n/* 顶栏元素间距 */\n.left-entry__title {\n  margin-right: 0px !important;\n}\n\n/* 与头像左空隙对齐 */\n.mini-header__logo {\n  margin-right: 7px !important;\n}\n\n/* 禁用主题色重载 */\nsvg.mini-header__logo path {\n  fill: var(--brand_blue) !important;\n}\n\n/* 移除“首页”字样 */\n.mini-header__title {\n  display: none !important;\n}\n\n/* 移除顶部动图和临时静图 */\n.animated-banner,\n#bili-header-banner-img {\n  display: none !important;\n}\n\n/* 使用 controlHeaderImage 获取随机头图 */\n\n.biliheader__banner {\n  display: none !important;\n}\n\n/* -------------------------------------------------- \n ---------------------- 展开图类 --------------------- \n -------------------------------------------------- */\n\n.v-popover {\n  position: fixed !important;\n  top: var(--header-height) !important;\n  margin: 0 !important;\n  max-width: 100%;\n  padding: 5px !important;\n}\n\n/* 分类(左侧入口)展开图 */\n.channel-panel__column {\n  width: 100% !important;\n  flex: 1;\n  padding: 0 !important;\n}\n\n/* 右侧入口展开图 */\n.dynamic-panel-popover,\n.favorite-panel-popover,\n.history-panel-popover {\n  max-width: 100%;\n  padding: 0 5px !important;\n}\n\n/* 动态展开图 */\n.dynamic-video-item {\n  margin-right: 0 !important;\n}\n\n.header-dynamic-list-item {\n  padding: 0 !important;\n}\n\n.header-dynamic__box--center {\n  max-width: 60%;\n}\n\n.header-dynamic__box--right {\n  top: 0 !important;\n  margin-bottom: 0 !important;\n  width: unset !important;\n  flex: 1;\n\n  .cover {\n      width: unset !important;\n      height: unset !important;\n  }\n}\n\n/* 收藏展开图 */\n.favorite-panel-popover__nav {\n  max-width: 25%;\n}\n\n.header-fav-card__image {\n  max-width: 40%;\n\n  picture {\n      max-width: 100%;\n      height: 100% !important;\n  }\n}\n\n/* 间距（收藏展开图） */\n.favorite-panel-popover__nav .tab-item {\n  padding: 0 6px !important;\n}\n\n.header-fav-card {\n  padding: 6px !important;\n}\n\n.favorite-panel-popover__nav {\n  margin-top: 6px !important;\n}\n\n/* 历史展开图 */\n.header-history-video {\n  padding: 5px 10px !important;\n}\n\n/* 移除头像大图 */\n.header-entry-avatar {\n  display: none !important;\n}\n\n/* 关闭头像动画 */\n.header-entry-mini {\n  animation: unset !important;\n}\n\n/* 移除次要入口 */\n.left-entry>li:not(:nth-of-type(1)),\n.vip-wrap,\n.right-entry-item:has(>.vip-wrap),\n.right-entry-item:nth-of-type(6),\n.right-entry-item--upload,\n.header-channel,\n.bili-header__channel,\n.recommended-swipe,\n.feed-roll-btn {\n  display: none !important;\n}\n\n/* 广告、推广图块 */\n/* 底部登录弹窗类 .lt-row 可能包含其它元素 */\n/* 首页顶部动图上的大 Logo */\n.container>*:has(.bili-video-card__info--ad),\n.floor-single-card,\n.desktop-download-tip,\n.lt-row,\n.header-banner__inner {\n  display: none !important;\n}\n\n/* ----------------------------------------------------\n* --------------------- 主页视频卡片 ------------------- *\n ----------------------------------------------------- */\n\n.container>* {\n  margin-top: 0 !important;\n}\n\n/* 卡片底板 */\n.bili-video-card__wrap {\n  border-radius: 5px;\n}\n\n/* 封面宽长比 */\n.bili-video-card.is-rcmd {\n  --cover-radio: 75% !important;\n}\n\n/* 封面圆角 */\n.v-img.bili-video-card__cover {\n  border-radius: 5px 5px 0 0;\n}\n\n/* 封面信息（阴影层圆角） */\n.bili-video-card__stats {\n  border-radius: 0 !important;\n  --icon-size: 16px;\n  --subtitle-font-size: 11px;\n  white-space: nowrap;\n}\n\n/* 卡片标题 - 字样 */\n.bili-video-card__info--tit {\n  --title-padding-right: 0;\n  --title-font-size: 14px;\n  --title-line-height: 20px;\n}\n\n/* 标题 - 上下距 */\n/* .bili-video-card__info  */\n\n/* 标题 - 左右距 */\n.bili-video-card__info--right {\n  padding: 0 5px;\n}\n\n/* 标题 - 字重 */\n/* .bili-video-card__info--tit > a */\n\n/* 小标 */\n.bili-video-card__info--bottom {\n  --subtitle-font-size: 12px;\n}\n\n.bili-video-card__info--icon-text {\n  padding: 0 5px !important;\n}\n\n/* 小标 - 日期 */\n.bili-video-card__info--owner {\n  flex: 1;\n}\n\n.bili-video-card__info--date {\n  margin-left: auto !important;\n}\n\n/* 小标 - 点赞数 */\n.bili-video-card__info--icon-text {\n  --follow-icon-font-size: 11px;\n  --follow-icon-line-height: 15px;\n}\n\n/* ----------------------------------------------------\n* ---------------------------------------------------- *\n* --------------------- 视频详情页 -------------------- *\n* ---------------------------------------------------- *\n ----------------------------------------------------- */\n\n/* 主应用块 */\n#app {\n  overflow: hidden;\n}\n\n/* 主体内容块 */\n.video-container-v1 {\n  min-width: 0 !important;\n  padding: 0 !important;\n  top: var(--header-height);\n}\n\n/* ----------------------------------------------------\n* ---------------------- 主视频块 --------------------- *\n ----------------------------------------------------- */\n\n/* 主视频块 */\n.left-container {\n  --video-height: calc(100vw * 0.5625);\n  --dm-row-height: 44px;\n}\n\n/* 有初始内联 top */\n/* 视频块（宽度） (#mainheight与header的高度差导致了64px-48px的可滚动区域) */\n.left-container {\n  /* 移动 Safari 百分比宽高自动考虑边框和填充 */\n  padding: calc(var(--video-height) + var(--dm-row-height)) 10px 0;\n  box-sizing: border-box;\n  width: 100% !important;\n\n  /* 填充评论未加载时的空白，video-container-v1 已考虑顶部留空，但 #app 的高度把顶部重叠的部分加上了 */\n  min-height: calc(100vh - var(--header-height));\n}\n\n/* ----------------------------------------------------\n* ----------------------- 播放器 ---------------------- *\n ----------------------------------------------------- */\n\n/* 修改播放器固定尺寸 */\n#bilibili-player {\n  height: 100% !important;\n  width: 100% !important;\n}\n\n/* 固定视频（外框尺寸） */\n#playerWrap {\n  position: fixed;\n  left: 0;\n  top: var(--header-height);\n  width: 100vw;\n  height: var(--video-height) !important;\n  z-index: 75;\n  transition: transform 0.5s ease-in;\n}\n\n/* 小窗时的隐藏 - 始终隐藏*/\n/* 顶部关注、音乐、反馈 */\n/* 右下角暂停图标 */\n/* 取消静音 */\n.bpx-player-top-wrap,\n.bpx-player-state-wrap,\n.bpx-player-toast-wrap {\n  display: none !important;\n}\n\n/* 小窗时的隐藏 - 固定显示*/\n/* 视频控制栏 */\n/* 弹幕行 */\n.bpx-player-control-wrap,\n.bpx-player-sending-area {\n  display: block !important;\n}\n\n/* 小窗时的隐藏：定位、解除静音、点赞关注等弹窗 */\n/*.bpx-player-toast-wrap {\n  bottom: unset !important;\n  top: 50%;\n  transform: translateY(-50%);\n}*/\n\n.bpx-player-toast-item {\n  margin: 0 !important;\n}\n\n/* 小窗时的暂停图标 */\n.bpx-player-mini-warp {\n  display: none !important;\n}\n\n/* 彻底移除小窗样式 */\n#playerWrap .bpx-player-container[data-screen=mini] {\n  position: relative !important;\n  width: 100% !important;\n  height: 100% !important;\n  right: 0 !important;\n  bottom: 0 !important;\n  transition: top 0.5s ease-in;\n}\n\n/* 移除小窗等按钮 */\n.fixed-sidenav-storage>*:nth-child(1),\n.fixed-sidenav-storage>*:nth-child(2) {\n  display: none !important;\n}\n\n/* 窄屏不隐藏控制条和阴影 */\n.bpx-player-control-entity,\n.bpx-player-control-mask {\n  display: block !important;\n}\n\n/* 移除次要按钮：画中画、宽屏、页面全屏、时间、选集 */\n.bpx-player-ctrl-pip,\n.bpx-player-ctrl-wide,\n.bpx-player-ctrl-web,\n.bpx-player-ctrl-time,\n.bpx-player-ctrl-eplist {\n  display: none !important;\n}\n\n/* 左右控制区 */\n.bpx-player-control-bottom-left,\n.bpx-player-control-bottom-right {\n  flex: unset !important;\n}\n\n/* 全屏时 */\n.bpx-player-container .bpx-player-control-bottom-left,\n.bpx-player-container .bpx-player-control-bottom-right {\n  min-width: 0 !important;\n}\n\n/* 清晰度(width:auto 不换行，隐藏不掉高清字样) */\n.bpx-player-ctrl-quality {\n  margin-right: 0 !important;\n  min-width: 0;\n  flex: auto !important;\n}\n\n/* 清晰度、倍速文本 */\n.bpx-player-ctrl-quality-result,\n.bpx-player-ctrl-playbackrate {\n  font-size: 12px !important;\n}\n\n/* 清晰度文本:隐藏换行的部分 */\n.bpx-player-ctrl-quality-result {\n  height: 22px;\n  overflow: hidden;\n}\n\n/* 倍速文本:禁止换行 */\n.bpx-player-ctrl-playbackrate {\n  text-wrap: nowrap;\n}\n\n/* 清晰度文本:全屏时恢复大小 */\n@media screen and (min-width: 750px){\n  .bpx-player-container[data-screen=full] .bpx-player-ctrl-quality-result {\n    font-size: 16px !important;\n    height: unset !important;\n  }\n}\n\n/* 按钮区(图标22px，算 margin 37px) */\n.bpx-player-control-bottom {\n  height: 29px !important;\n  margin-top: 7px !important;\n  padding: 0 7px !important;\n}\n\n/* 进度条 */\n.bpx-player-control-top {\n  bottom: 36px !important;\n}\n\n/* 修复部分情况下的控制栏图标增大导致的高度过高 */\n@media screen and (min-width: 750px) {\n  .bpx-player-container[data-screen=full] {\n    .bpx-player-control-wrap {\n      height: 43px !important;\n    }\n\n    .bpx-player-control-top {\n      bottom: 43px !important;\n    }\n  }\n}\n\n/* 进度条细条包含块（高12px） */\n.bpx-player-progress-wrap {\n  height: 7px !important;\n  padding-bottom: 3px !important;\n}\n\n/* 阴影(控制栏展开时: 高能区 100% - 1px) */\n.bpx-player-pbp {\n  bottom: 1px !important;\n}\n\n.bpx-player-pbp.show {\n  bottom: calc(100% + 6px) !important;\n}\n\n/* 替换via暗色异常的阴影 */\n.bpx-player-control-mask {\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, .5) 100%) !important;\n}\n\n/* 清晰度弹窗 */\n.bpx-player-ctrl-quality-menu-wrap {\n  bottom: 0 !important;\n  max-height: var(--video-height) !important;\n}\n\n/* 设置弹窗 */\n.bpx-player-ctrl-setting-box {\n  right: 0 !important;\n  bottom: 0 !important;\n}\n\n/* 更多设置 */\n.bpx-player-ctrl-setting-menu-right {\n  padding: 5px !important;\n  max-height: var(--video-height) !important;\n}\n\n/* 更多设置 */\n.bui.bui-radio.bui-dark {\n  margin-bottom: 5px !important;\n}\n\n/* 全屏控制栏 */\n.bpx-player-control-bottom-center .bpx-player-sending-bar {\n  padding-right: 6px !important;\n  height: 24px !important;\n}\n\n/* 存在章节时(允许章节缩小) */\n.bpx-player-ctrl-viewpoint {\n  margin: 0 !important;\n  min-width: 0 !important;\n  width: 45px !important;\n  flex-shrink: 1 !important;\n}\n\n.bpx-player-ctrl-viewpoint-text {\n  width: 24px !important;\n  text-overflow: unset !important;\n  font-size: 12px;\n  flex: none;\n}\n\n/* ----------------------------------------------------\n* ----------------------- 弹幕行 ---------------------- *\n ----------------------------------------------------- */\n\n/* 弹幕行：滚动隐藏 */\n.bpx-player-sending-area {\n  position: absolute !important;\n  bottom: 0;\n  width: 100%;\n  transform: translateY(100%);\n\n  transition: 0.5s transform ease-in;\n  display: block !important;\n  z-index: 0;\n}\n\n[scroll-hidden=true] .bpx-player-sending-area {\n  transform: none;\n}\n\n.bpx-player-video-area {\n  z-index: 1;\n}\n\n/* 修改小窗样式的时候把这行删了，导致弹幕行显示异常 */\n.bpx-player-container[data-screen=mini] {\n  overflow: unset !important;\n}\n\n/* 弹幕行预加载灰块白条(视频底下也有，预加载有时会看到) */\n.bpx-player-sending-bar-left,\n.bpx-player-sending-bar-right,\n#bilibili-player-placeholder-bottom {\n  display: none !important;\n}\n\n/* 弹幕行高度 */\n.bpx-player-sending-bar {\n  height: var(--dm-row-height) !important;\n}\n\n.bpx-player-dm-input {\n  height: 26px !important;\n}\n\n/* 弹幕输入栏外 */\n.bpx-player-video-inputbar {\n  height: 26px !important;\n  border-radius: 13px !important;\n\n  min-width: 0 !important;\n}\n\n.bpx-player-video-inputbar-wrap {\n  width: 100% !important;\n}\n\n/* 不输入隐藏发送 */\n.bpx-player-dm-btn-send {\n  display: none !important;\n}\n\n.bpx-player-video-inputbar-wrap:has(>input:focus)+.bpx-player-dm-btn-send {\n  display: flex !important;\n}\n\n.bpx-player-dm-btn-send {\n  border-radius: 0 13px 13px 0 !important;\n  height: 26px !important;\n  min-width: 50px !important;\n  width: 50px !important;\n}\n\n.bui-button-blue {\n  min-width: 50px !important;\n}\n\n/* 观看人数 */\n.bpx-player-video-info {\n  margin-right: 6px !important;\n}\n\n/* 弹幕数量、弹幕礼仪 */\n.bpx-player-video-info-divide,\n.bpx-player-video-info-dm,\n.bpx-player-dm-hint {\n  display: none !important;\n}\n\n/* 播放组件在下面 */\n\n/* ----------------------------------------------------\n* ----------------------- 推荐块 ---------------------- *\n ----------------------------------------------------- */\n\n/* 推荐块(初始样式不要设transform，否则via在刷新时侧边栏出问题) */\n.right-container {\n  position: fixed !important;\n  width: 85% !important;\n  left: 85%;\n  padding: 10px;\n  margin: 0 0 0 15% !important;\n\n  z-index: 76;\n  background: white;\n  transition: transform .6s ease-in;\n  height: calc(100% - var(--header-height) * 2);\n  overflow-y: auto;\n  /* 避免到达边界后的滚动事件穿透 */\n  overscroll-behavior: contain;\n\n  box-sizing: border-box;\n  border-left: 1px solid var(--line_regular);\n}\n\nbody[show-sidebar="true"] .right-container {\n  transform: translateX(-100%);\n}\n\n.right-container-inner {\n  padding: 0 !important;\n}\n\n/* 推荐块蒙版（加到左视频块才不会被冒泡事件影响） */\n.left-container:after {\n  content: \'\';\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 75;\n  background-color: rgb(0, 0, 0);\n  opacity: 0;\n  transition: opacity 0.6s ease-in;\n  pointer-events: none;\n}\n\nbody[show-sidebar="true"] .left-container:after {\n  opacity: 0.5;\n  pointer-events: auto;\n}\n\n/* UP信息 */\n.upinfo-btn-panel .default-btn {\n  font-size: 12px !important;\n}\n\n.new-charge-btn {\n  max-width: 35%;\n}\n\n.follow-btn {\n  max-width: 150px !important;\n}\n\n/* UP头像 */\n/*.up-avatar-wrap .bili-avatar,\n.up-avatar-wrap {\n  width: 38px !important;\n  height: 38px !important;\n}*/\n\n/* 推荐视频图块 */\n#reco_list .card-box .pic-box {\n  max-width: 50%;\n}\n\n/* ----------------------------------------------------\n* ---------------------- 播放页组件 ------------------- *\n ----------------------------------------------------- */\n\n #viewbox_report {\n}\n\n/* 信息块（标题） */\n.video-info-container {\n  height: auto !important;\n  padding-top: 0 !important;\n}\n\n/* 标题（可两行显示） */\n.video-title {\n  font-size: 18px !important;\n\n  white-space: wrap !important;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n\n  /* 去除折叠时的 show-more 按钮 margin */\n  margin-right: 0 !important;\n}\n\n.show-more {\n  top: unset !important;\n  transform: none !important;\n  bottom: 4px;\n  right: 4px !important;\n}\n\n.video-desc-container {\n  margin: 10px 0 !important;\n}\n\n/* 点赞投币行 */\n.video-toolbar-container {\n  padding: 10px 0 8px !important;\n}\n\n.video-toolbar-left,\n.video-toolbar-left-main {\n  min-width: 0;\n}\n\n.toolbar-left-item-wrap {\n  flex: 1;\n  min-width: 0;\n}\n\n.video-toolbar-container * {\n  margin: 0 !important;\n}\n\n.video-share-info {\n  width: 40px !important;\n}\n\n.video-share-popover {\n  display: none !important;\n}\n\n/* AI 助手“测试版”字样 */\n.video-ai-assistant-badge {\n  display: none !important;\n}\n\n/* AI 总结 */\n.resizable-component.resizable-component {\n  width: 100% !important;\n  left: 0 !important;\n  position: fixed !important;\n  height: 100vw !important;\n  top: 50% !important;\n  transform: translateY(-50%);\n}\n\n/* 简介 */\n.video-desc-container .toggle-btn {\n  text-align: right;\n  margin-right: 7px;\n}\n\n/* 标签 */\n.video-tag-container {\n  margin: 6px 0 0 !important;\n  padding-bottom: 1px !important;\n}\n\n.tag-panel .tag {\n  margin-bottom: 6px !important;\n  opacity: 0;\n  animation: fadeIn 1s ease-in 2s forwards;\n}\n\n/* 投票卡片 */\n.top-vote-card-left {\n  width: unset !important;\n  max-width: unset !important;\n}\n\n/* ----------------------------------------------------\n* ----------------- 播放组件（评论以下） -------------- *\n ----------------------------------------------------- */\n\n@keyframes fadeIn {\n  form {\n      opacity: 0;\n  }\n\n  to {\n      opacity: 1;\n  }\n}\n\n/* 固定评论栏 */\n.main-reply-box {\n  position: fixed;\n  left: 0;\n  bottom: var(--header-height);\n  z-index: 10;\n  background: white;\n  width: 100%;\n  padding: 8px 12px;\n  border-top: 1px solid var(--line_regular);\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n\n  transition: .75s transform ease-in;\n  display: block !important;\n}\n\n/* 评论行滚动隐藏 */\n[scroll-hidden=true] .main-reply-box {\n  transform: translateY(calc(100% + var(--header-height)))\n}\n\n/* 移除原底部评论栏 */\n.fixed-reply-box {\n  display: none !important;\n}\n\n/* 移除评论头像 */\n.reply-box-avatar {\n  display: none !important;\n}\n\n/* 输入块外 */\n.reply-box-warp {\n  border-radius: 13px !important;\n}\n\n/* 输入块内 */\n.textarea-wrap {\n  padding: 0 !important;\n}\n\n/* 文字输入 */\n.reply-box-textarea {\n  height: 26px !important;\n  line-height: 26px !important;\n  min-height: 26px !important;\n}\n\n/* 输入展开块 */\n.main-reply-box .reply-box .box-expand[data-v-a6daab22] {\n  height: 26px;\n  margin: 8px 0 0 0;\n}\n\n/* 插入表情图片 */\n.box-left {\n  flex: 1;\n  justify-content: space-evenly !important;\n}\n\n/* 点击发送 */\n.reply-box-send {\n  width: 50px !important;\n  height: 26px !important;\n}\n\n/* 评论块 */\n#comment {\n  margin-top: 12px !important;\n}\n\n/* 评论导航 */\n.reply-navigation {\n  margin-bottom: 0 !important;\n}\n\n/* 评论 */\n.root-reply-container {\n  padding: 12px 0 0 36px !important;\n}\n\n.root-reply-avatar,\n.root-reply-avatar .bili-avatar {\n  width: 36px !important;\n  height: 36px !important;\n}\n\n.user-info {\n  margin: 3px 5px 0 !important;\n}\n\n/* 回复评论 */\n.sub-reply-container {\n  padding-left: 28px !important;\n}\n\n.sub-reply-item {\n  padding: 4px 0 4px 37px !important;\n}\n\n/* 评论图片 */\n.reply-view-image .show-image-wrap {\n  padding: 0 0 145px !important;\n  .image-content {\n    width: 100% !important;\n  }\n}\n\n.reply-view-image .operation-btn {\n  .last-image,\n  .next-image,\n  .close-container {\n    top: unset !important;\n    bottom: 100px;\n  }\n\n  .last-image,\n  .next-image {\n    transform: none !important;\n  }\n\n  .close-container {\n    right: 50% !important;\n    transform: translateX(50%);\n  }\n  \n  .last-image {\n    left: 20vw !important;\n  }\n\n  .next-image {\n    right: 20vw !important;\n  }\n\n}\n\n/* 块状广告（包括推荐列） */\n#activity_vote,\n#bannerAd,\n.reply-notice,\n.ad-report,\n.pop-live-small-mode,\n#slide_ad {\n  display: none !important;\n}\n\n/* ----------------------------------------------------\n* ---------------------------------------------------- *\n* ------------------------ 按钮 ---------------------- *\n* ---------------------------------------------------- *\n ----------------------------------------------------- */\n\n/* 按钮 */\n.primary-btn:hover {\n  background-color: unset !important;\n}\n\n.primary-btn {\n  background: none !important;\n}\n\n/* 刷新按钮 */\n.flexible-roll-btn-inner {\n  border: none !important;\n  color: inherit !important;\n  background: none !important;\n  padding: 7px 8px 7px 7px !important;\n  display: block !important;\n  position: fixed;\n  bottom: -17px;\n  right: 5vw;\n  width: 40px !important;\n  transition: .5s transform ease-in;\n}\n\n/* 首页置顶按钮 */\n.top-btn {\n  border: none !important;\n  position: fixed;\n  bottom: -17px;\n  right: 77vw;\n  width: 40px !important;\n  transition: .5s transform ease-in !important\n}\n\n.top-btn .primary-btn-text {\n  display: none;\n}\n\n/* svg 大小 */\n.flexible-roll-btn-inner svg {\n  width: 26px;\n  height: 26px;\n}\n\n.palette-button-wrap.translucent>.flexible-roll-btn.flexible-roll-btn,\n.palette-button-wrap.translucent>.top-btn-wrap.top-btn-wrap {\n  opacity: 1 !important;\n}\n\n/* 按钮组 */\nspan.btn-text-inner,\n.storage-box {\n  display: none !important;\n}\n\n/* 返回顶部按钮（添加渐变） */\n/* 权重：基本设置属性 < transition < animation */\n.back-to-top {\n  border-radius: 0 25% 25% 0 !important;\n  border-left: 0 !important;\n  margin-bottom: 0 !important;\n  width: 42px !important;\n\n  visibility: visible !important;\n  transform: translateX(-100%);\n  transition: transform .5s ease-in-out;\n}\n\n.back-to-top.visible {\n  transform: none;\n}\n\n/* 回顶按钮的位置 */\n.fixed-sidenav-storage {\n  left: 0;\n  right: unset !important;\n  bottom: 78px !important;\n  z-index: 1 !important;\n}\n\n/* ----------------------------------------------------\n* ---------------------------------------------------- *\n* ---------------------- 其它窗口 -------------------- *\n* ---------------------------------------------------- *\n ----------------------------------------------------- */\n\n/* 登录窗 */\n.login-scan-wp,\n.bili-mini-line {\n  display: none !important;\n}\n\n.bili-mini-content-wp {\n  padding: 52px 0 29px !important;\n}\n\n.bili-mini-login-right-wp,\n.bili-mini-login-right-wp * {\n  max-width: 80vw;\n}\n    ',i(n)}(),function(){const n=window.addEventListener;window.addEventListener=function(t,e,i){"beforeunload"!==t&&n.call(this,t,e,i)}}(),"1"===localStorage.getItem("hidden-header")&&r(),"/"===window.location.pathname&&(t(),function(){const n="header-image",t="https://source.unsplash.com/random/840x400";function e(n){return new Promise(((t,e)=>{const i=new Image;i.crossOrigin="Anonymous",i.src=n,i.onload=()=>t(i),i.onerror=e}))}function i(n){const t=document.createElement("canvas");return t.width=n.width,t.height=n.height,t.getContext("2d").drawImage(n,0,0),t.toDataURL("image/jpeg")}function a(n,t){localStorage.setItem(n,t)}"/"===window.location.pathname&&(function n(o,r){const p=localStorage.getItem(o);if(p){const n=document.createElement("style");n.innerHTML=`\n          ${r}::after {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            z-index: -1;\n            background-image: url(${p});\n            background-size: cover;\n            background-position: center;\n          }\n        `,document.head.appendChild(n)}else e(t).then((t=>{const e=i(t);a(o,e),n(o,r)})).catch((n=>{console.error("Failed to get image:",n)}))}(n,".bili-header__banner"),setTimeout((async()=>{try{const o=i(await e(t));a(n,o)}catch(n){console.error("Failed to get image:",n)}}),5e3))}()),window.location.pathname.startsWith("/video")&&a(),e((()=>{"1"===localStorage.getItem("hidden-header")&&document.body.setAttribute("hidden-header","true"),function(){const t=document.createElement("div");t.id="overlay",document.body.appendChild(t),t.addEventListener("click",(function(r){function p(){if(i)(function(t){const e=new MouseEvent("mouseleave",{bubbles:!0,view:n});t.dispatchEvent(e)})(e),i=!1;else{t.style.display="none";const a=document.elementFromPoint(r.clientX,r.clientY);(function(t){const e=new MouseEvent("mouseenter",{bubbles:!0,view:n});t.dispatchEvent(e)})(a),t.style.display="block",i=!0,e=a}}o++,a&&(clearTimeout(a),a=null),1===o?a=setTimeout((()=>{p(),o=0}),250):(t.style.display="none",function(t){const e=new MouseEvent("click",{bubbles:!0,view:n});t.dispatchEvent(e)}(document.elementFromPoint(r.clientX,r.clientY)),t.style.display="block",o=0)}));let e=null,i=!1,a=null,o=0}(),window.location.pathname.startsWith("/video")&&(function(){const n=document.getElementsByClassName("bpx-player-video-wrap>video")[0];n&&(n.playsInline=!0)}(),function(){document.getElementsByClassName("bpx-player-container")[0].addEventListener("click",(function(){(function(t){const e=new MouseEvent("mouseenter",{bubbles:!0,view:n});t.dispatchEvent(e)})(t),e&&clearTimeout(e),e=setTimeout((()=>{!function(t){const e=new MouseEvent("mouseleave",{bubbles:!0,view:n});t.dispatchEvent(e)}(t)}),5e3)}));const t=document.getElementsByClassName("bpx-player-control-wrap")[0];let e=null}()),function(){let t=0;n.addEventListener("scroll",(()=>{const n=window.scrollY;n-t>75?(document.body.setAttribute("scroll-hidden","true"),t=n):(n-t<-75||n<75)&&(document.body.setAttribute("scroll-hidden",""),t=n)}))}(),function(){const n=Object.assign(document.createElement("div"),{id:"actionbar",innerHTML:'\n      <div id="full-now">\n        <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="currentColor" style="pointer-events: none; display: inherit; width: 100%; height: 100%;"><path transform="translate(4,4)" d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/></svg>\n      </div>\n      <div id="my-home">\n        <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" fill="currentColor" focusable="false" style="pointer-events: none; display: inherit; width: 100%; height: 100%;"><path d="m12 4.44 7 6.09V20h-4v-6H9v6H5v-9.47l7-6.09m0-1.32-8 6.96V21h6v-6h4v6h6V10.08l-8-6.96z"></path></svg>\n      </div>\n      <div id="search-fab">\n        <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" fill="currentColor" focusable="false" style="pointer-events: none; display: inherit; width: 100%; height: 100%;"><path d="m20.87 20.17-5.59-5.59C16.35 13.35 17 11.75 17 10c0-3.87-3.13-7-7-7s-7 3.13-7 7 3.13 7 7 7c1.75 0 3.35-.65 4.58-1.71l5.59 5.59.7-.71zM10 16c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"></path></svg>\n      </div>\n      <div id="menu-fab">\n        <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24" viewBox="0 0 24 24" width="24" fill="currentColor" focusable="false" style="pointer-events: none; display: inherit; width: 100%; height: 100%;"><path d="M12 16.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5-1.5-.67-1.5-1.5.67-1.5 1.5-1.5zM10.5 12c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5zm0-6c0 .83.67 1.5 1.5 1.5s1.5-.67 1.5-1.5-.67-1.5-1.5-1.5-1.5.67-1.5 1.5z"></path></svg>\n      </div>\n      <div id="sidebar-btn">\n        <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24" fill="currentColor" focusable="false" style="pointer-events: none; display: inherit; width: 100%; height: 100%;"><path d="M21 6H3V5h18v1zm0 5H3v1h18v-1zm0 6H3v1h18v-1z"></path></svg>\n      </div>\n      '});if(document.body.appendChild(n),"/"===window.location.pathname&&n.classList.add("home"),window.location.pathname.startsWith("/video")){function t(){const n=document.getElementsByClassName("bpx-player-ctrl-full")[0];n?n.click():setTimeout(t,500)}document.getElementById("full-now").addEventListener("click",(()=>{const n=document.getElementsByTagName("video")[0];"1"===(localStorage.getItem("full-unmuted")||"0")&&(n.play(),n.muted=!1,0===n.volume&&document.getElementsByClassName("bpx-player-ctrl-muted-icon")[0].click()),t()}))}document.getElementById("my-home").addEventListener("click",(()=>{window.location.href="/"})),document.getElementById("search-fab").addEventListener("click",(()=>{const n=document.getElementsByClassName("center-search-container")[0];n.classList.add("show");const t=n.querySelector("input");t.focus(),t.addEventListener("blur",(()=>{n.classList.remove("show")}))})),document.getElementById("menu-fab").addEventListener("click",(()=>{"1"===localStorage.getItem("hidden-header")?(document.getElementById("hidden-header")?.remove(),localStorage.setItem("hidden-header","0")):(r(),localStorage.setItem("hidden-header","1"))}))}(),window.location.pathname.startsWith("/video")&&(function(){function n(){document.body.setAttribute("show-sidebar","")}document.getElementById("sidebar-btn").addEventListener("click",(t=>{t.stopPropagation(),"true"===document.body.getAttribute("show-sidebar")?n():document.body.setAttribute("show-sidebar","true")})),document.getElementsByClassName("left-container")[0].addEventListener("click",n),document.getElementById("actionbar").addEventListener("click",(()=>{"1"===localStorage.getItem("hidden-header")&&"true"===document.body.getAttribute("show-sidebar")&&n()})),document.getElementById("reco_list").addEventListener("click",(t=>{const e=document.getElementsByClassName("rec-title")[0],i=document.getElementsByClassName("rec-footer")[0];e.contains(t.target)||i.contains(t.target)||n()}))}(),o())}))}()})();